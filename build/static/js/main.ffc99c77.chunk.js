(this["webpackJsonpmern-stack"]=this["webpackJsonpmern-stack"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(22),s=c.n(a),i=(c(44),c(45),c(46),c(10)),j=c(5),l=c(2),o=function(){return Object(l.jsx)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Excerise Manager"}),Object(l.jsx)("div",{className:"collpase navbar-collapse",children:Object(l.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(l.jsx)("li",{className:"navbar-item",children:Object(l.jsx)(i.b,{to:"/",className:"nav-link",children:"Exercises"})}),Object(l.jsx)("li",{className:"navbar-item",children:Object(l.jsx)(i.b,{to:"/create",className:"nav-link",children:"Create Exercise Log"})}),Object(l.jsx)("li",{className:"navbar-item",children:Object(l.jsx)(i.b,{to:"/user",className:"nav-link",children:"Create User"})})]})})]})})},u=c(16),b=c.n(u),d=c(21),O=c(11),h=c(13),x=c(14),m=c.n(x),p=function(e){var t=e.url,c=(Object(h.a)(e,["url"]),Object(n.useState)([])),r=Object(O.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(!0),o=Object(O.a)(j,2),u=o[0],x=o[1],p=Object(n.useState)(window.innerWidth),f=Object(O.a)(p,2),v=f[0],g=(f[1],function(e){var t=e.exercise,c=Object(h.a)(e,["exercise"]),n=t.username,r=t.description,a=t.duration,s=t.date,j=t._id;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:n}),Object(l.jsx)("td",{children:r}),Object(l.jsx)("td",{children:a}),Object(l.jsx)("td",{children:s.substring(0,10)}),Object(l.jsxs)("td",{children:[Object(l.jsx)(i.b,{className:"btn btn-secondary",to:"/edit/"+j,children:"Edit"})," | ",Object(l.jsx)("a",{className:"btn btn-danger",href:"#",onClick:function(){c.deleteExercise(j)},children:"Delete"})]})]})}),N=function(e){var t=e.exercise,c=Object(h.a)(e,["exercise"]),n=t.username,r=t.description,a=t.duration,s=t.date,j=t._id;return Object(l.jsxs)("tr",{className:"small-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("td",{children:n})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("td",{children:r})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Duration"}),Object(l.jsx)("td",{children:a})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("td",{children:s.substring(0,10)})]}),Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:[Object(l.jsx)(i.b,{className:"btn btn-secondary",to:"/edit/"+j,children:"Edit"})," | ",Object(l.jsx)("a",{className:"btn btn-danger",href:"#",onClick:function(){c.deleteExercise(j)},children:"Delete"})]})})]})};Object(n.useEffect)((function(){m.a.get(t+"exercises/").then(function(){var e=Object(d.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.data,Object(h.a)(t,["data"]),s(c),x(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),console.log(v>600)}),[]);var C=function(e){m.a.delete(t+"exercises/"+e).then((function(e){return console.log(e.data)})).catch((function(e){return console.log("ERRROR"+e)})),s(a.filter((function(t){return t._id!==e})))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Logged Exercises"}),Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{className:"thead-light",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Duration"}),Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Actions"})]})}),Object(l.jsx)("tbody",{children:a.map((function(e,t){return v>600?Object(l.jsx)(g,{exercise:e,deleteExercise:C},t):Object(l.jsx)(N,{exercise:e,deleteExercise:C},t)}))})]}),u&&Object(l.jsx)("h1",{children:"Loading..."})]})},f=c(4),v=c(23),g=c.n(v),N=function(e){var t=e.url,c=(e.match,Object(h.a)(e,["url","match"]),Object(j.e)().id),r=Object(n.useState)(!0),a=Object(O.a)(r,2),s=a[0],o=a[1],u=Object(n.useState)({description:!1,duration:!1}),x=Object(O.a)(u,2),p=x[0],v=x[1],N=Object(n.useState)({username:"",description:"",duration:0,date:new Date,users:[]}),C=Object(O.a)(N,2),D=C[0],E=C[1],w=function(){var e=Object(d.a)(b.a.mark((function e(t){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,n=c.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(Object(d.a)(b.a.mark((function e(){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t+"exercises/"+c);case 2:return n=e.sent,e.next=5,w(t+"users/");case 5:r=e.sent,a={username:n.username,description:n.description,duration:n.duration,date:new Date(n.date),_id:n._id,users:r},E(a),o(!1);case 9:case"end":return e.stop()}}),e)}))),[]);var k=function(e){if(!p.duration||!p.description){/description/i.test(e.target.previousElementSibling.innerText)&&!p.description?e.target.select():p.duration&&/duration/i.test(e.target.previousElementSibling.innerText)&&(console.log("DURAtITON"),e.target.select())}};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Edit Exercise Log"}),s&&Object(l.jsx)("h1",{children:"Loading..."}),!s&&Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.a.post(t+"exercises/update/"+c,D).then((function(e){return console.log(e.data)})),window.location="/"},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username: "}),Object(l.jsx)("select",{required:!0,className:"form-control",value:D.username,onChange:function(e){return E(Object(f.a)(Object(f.a)({},D),{},{username:e.target.value}))},children:D.users.map((function(e,t){return Object(l.jsx)("option",{value:e.username,children:e.username},t)}))})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Description: "}),Object(l.jsx)("input",{type:"text",required:!0,className:"form-control",value:D.description,onClick:k,onChange:function(e){E(Object(f.a)(Object(f.a)({},D),{},{description:e.target.value})),v(Object(f.a)(Object(f.a)({},p),{},{description:!0}))}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Duration (in minutes): "}),Object(l.jsx)("input",{type:"text",className:"form-control",value:D.duration,onClick:k,onChange:function(e){E(Object(f.a)(Object(f.a)({},D),{},{duration:e.target.value})),v(Object(f.a)(Object(f.a)({},p),{},{duration:!0}))}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Date: "}),Object(l.jsx)("div",{children:Object(l.jsx)(g.a,{value:D.date,onChange:function(e){return E(Object(f.a)(Object(f.a)({},D),{},{date:e}))}})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("input",{type:"submit",value:"Save Changes",className:"btn btn-primary"}),Object(l.jsx)(i.b,{to:"/",className:"btn btn-danger ml-4",children:"Cancel"})]})]})]})},C=function(e){var t=e.url,c=(Object(h.a)(e,["url"]),Object(n.useState)({username:"",description:"",duration:"",date:new Date,users:[]})),r=Object(O.a)(c,2),a=r[0],s=r[1];Object(n.useEffect)((function(){m.a.get(t+"users/").then((function(e){var t=e.data;e.res;t.length>0?s(Object(f.a)(Object(f.a)({},a),{},{users:t.map((function(e){return e.username})),username:t[0].username})):s(Object(f.a)(Object(f.a)({},a),{},{users:["No users available..."]}))}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Create New Exercise Log"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(Object(f.a)({},a)),m.a.post(t+"exercises/add/",Object(f.a)({},a)).then((function(e){return console.log(e.data)})),window.location="/"},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username: "}),Object(l.jsx)("select",{required:!0,className:"form-control",value:a.username,onChange:function(e){return s(Object(f.a)(Object(f.a)({},a),{},{username:e.target.value}))},children:a.users.map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)}))})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Description: "}),Object(l.jsx)("input",{type:"text",required:!0,className:"form-control",value:a.description,onChange:function(e){return s(Object(f.a)(Object(f.a)({},a),{},{description:e.target.value}))}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Duration (in minutes): "}),Object(l.jsx)("input",{type:"text",className:"form-control",value:a.duration,onChange:function(e){return s(Object(f.a)(Object(f.a)({},a),{},{duration:e.target.value}))}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Date: "}),Object(l.jsx)("div",{children:Object(l.jsx)(g.a,{selected:a.date,value:a.date,onChange:function(e){s(Object(f.a)(Object(f.a)({},a),{},{date:e}))}})})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Create Exercise Log",className:"btn btn-primary"})})]})]})},D=function(e){var t=e.url,c=(Object(h.a)(e,["url"]),Object(n.useState)("")),r=Object(O.a)(c,2),a=r[0],s=r[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Create New User"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(t),console.log(a),m.a.post(t+"users/add",{username:a}).then((function(e){return console.log(e.data)})),s("")},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username: "}),Object(l.jsx)("input",{type:"text",required:!0,className:"form-control",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Create User",className:"btn btn-primary"})})]})]})};var E=function(){var e="https://rich-node-api.herokuapp.com/";return Object(l.jsxs)(i.a,{children:[Object(l.jsx)(o,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j.a,{path:"/",exact:!0,children:Object(l.jsx)(p,{url:e})}),Object(l.jsx)(j.a,{path:"/edit/:id",children:Object(l.jsx)(N,{url:e})}),Object(l.jsx)(j.a,{path:"/create",children:Object(l.jsx)(C,{url:e})}),Object(l.jsx)(j.a,{path:"/user",children:Object(l.jsx)(D,{url:e})})]})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.ffc99c77.chunk.js.map